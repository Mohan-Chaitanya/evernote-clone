(this["webpackJsonpevernote-clone"]=this["webpackJsonpevernote-clone"]||[]).push([[0],{103:function(e,t,n){},105:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);var o=n(2),s=n.n(o),c=n(19),a=n.n(c),i=(n(103),n(16)),r=n.n(i),l=n(96),d=n(33),u=n(23),p=n(24),f=n(27),N=n(26),h=(n(105),n(22)),j=n(246),b=n(14),x=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},v=n(247),m=n(248),O=n(94),y=n.n(O);var g=n(6),w=function(e){Object(f.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).selectNote=function(t,n){return e.props.selectNote(t,n)},e.deleteNote=function(t){window.confirm("Are you sure you want to delete : ".concat(t))&&e.props.deleteNote(t)},e}return Object(p.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,o=n._index,s=n._note,c=n.classes,a=n.selectedNoteIndex;return Object(g.jsx)("div",{children:Object(g.jsxs)(v.a,{className:"sidebarListItem",selected:a===o,alignItems:"flex-start",children:[Object(g.jsx)("div",{className:c.textSection,onClick:function(){return t.selectNote(s,o)},children:Object(g.jsx)(m.a,{primary:s.title,secondary:(e=s.body.substring(0,30)+"....",e.replace(/<[^>]*>?/gm,""))})}),Object(g.jsx)(y.a,{onClick:function(){return t.deleteNote(s)},className:c.deleteIcon})]})},o)}}]),n}(s.a.Component),I=Object(b.a)(x)(w),S=function(e){Object(f.a)(n,e);var t=Object(N.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).newNoteBtnClick=function(){console.log("New Note Btn"),e.setState({title:null,addingNote:!e.state.addingNote})},e.updateTitle=function(t){console.log("here the is",t),e.setState({title:t})},e.newNote=function(){e.props.newNote(e.state.title),e.setState({title:null,addingNote:!1})},e.selectNote=function(t,n){e.props.selectNote(t,n)},e.deleteNote=function(t){e.props.deleteNote(t)},e.state={addingNote:!1,title:null},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.notes,o=t.selectedNoteIndex;return n?(console.log("sidebar",n),Object(g.jsxs)("div",{className:"sidebarDiv",children:[Object(g.jsx)("button",{onClick:this.newNoteBtnClick,className:"newNoteBtn",children:this.state.addingNote?"Cancel":"New Note"}),this.state.addingNote?Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"text",className:"noteTitle",placeholder:"Enter note title",onKeyUp:function(t){return e.updateTitle(t.target.value)}}),Object(g.jsx)("button",{className:"newNoteSubmitBtn",onClick:this.newNote,children:"Submit Note"})]}):null,Object(g.jsx)("div",{children:n.map((function(t,n){return Object(g.jsxs)("div",{children:[Object(g.jsx)(I,{_note:t,_index:n,selectedNoteIndex:o,selectNote:e.selectNote,deleteNote:e.deleteNote}),Object(g.jsx)(j.a,{})]},n)}))})]})):Object(g.jsx)("div",{})}}]),n}(s.a.Component),C=n(95),k=n.n(C),T=(n(221),function(e){Object(f.a)(n,e);var t=Object(N.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.setState({text:e.props.selectedNote.body,title:e.props.selectedNote.title,id:e.props.selectedNote.id})},e.componentDidUpdate=function(){e.props.selectedNote.id!==e.state.id&&e.setState({text:e.props.selectedNote.body,title:e.props.selectedNote.title,id:e.props.selectedNote.id})},e.updateTitle=function(){var t=Object(d.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({title:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateBody=function(){var t=Object(d.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({text:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.update=function(e,t,n){var o,s;return function(){function c(){o=null,n||(s=e.apply(a,i))}var a=this,i=arguments;return clearTimeout(o),o=setTimeout(c,t),n&&!o&&(s=e.apply(a,i)),s}}((function(){e.props.noteUpdate(e.state.id,{title:e.state.title,body:e.state.text})}),1500),e.state={text:"",title:"",id:""},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;this.props.classes;return Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{className:"headingBar",placeholder:"Note Title...",value:this.state.title?this.state.title:"",onChange:function(t){return e.updateTitle(t.target.value)}}),Object(g.jsx)(k.a,{value:this.state.text,onChange:this.updateBody})]})}}]),n}(s.a.Component)),B=function(e){Object(f.a)(n,e);var t=Object(N.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).componentDidMount=function(){h.a.firestore().collection("notes").onSnapshot((function(t){var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));console.log(n),e.setState({notes:n})}))},e.selectNote=function(t,n){return e.setState({selectedNote:t,selectedNoteIndex:n})},e.noteUpdate=function(e,t){h.a.firestore().collection("notes").doc(e).update({title:t.title,body:t.body,timestamp:h.a.firestore.FieldValue.serverTimestamp()})},e.newNote=function(){var t=Object(d.a)(r.a.mark((function t(n){var o,s,c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={title:n,body:""},t.next=3,h.a.firestore().collection("notes").add({title:o.title,body:o.body,timestamp:h.a.firestore.FieldValue.serverTimestamp()});case 3:return s=t.sent,c=s.id,t.next=7,e.setState({notes:[].concat(Object(l.a)(e.state.notes),[o])});case 7:a=e.state.notes.indexOf(e.state.notes.filter((function(e){return e.id===c}))[0]),e.setState({selectedNote:e.state.notes[a],selectedNoteIndex:a});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteNote=function(){var t=Object(d.a)(r.a.mark((function t(n){var o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.notes.indexOf(n),t.next=3,e.setState({notes:e.state.notes.filter((function(e){return e!==n}))});case 3:e.state.selectedNoteIndex===o?e.setState({selectedNoteIndex:null,selectNote:null}):e.state.notes.length>1?e.selectedNote(e.state.notes[e.state.selectedNoteIndex-1],e.state.selectedNoteIndex-1):e.setState({selectedNoteIndex:null,selectNote:null}),h.a.firestore().collection("notes").doc(n.id).delete();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={selectedNoteIndex:null,selectedNote:null,notes:null},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"pageComponent",children:[Object(g.jsx)("div",{className:"ediSideComponent",children:Object(g.jsx)(S,{selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,deleteNote:this.deleteNote,selectNote:this.selectNote,newNote:this.newNote})}),this.state.selectedNote?Object(g.jsx)("div",{className:"ediComponent",children:Object(g.jsx)(T,{selectedNote:this.state.selectedNote,selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,noteUpdate:this.noteUpdate})}):null]})})}}]),n}(s.a.Component),D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,249)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),s(e),c(e),a(e)}))},F=(n(222),n(223),{apiKey:"AIzaSyD4I0m4PuVI-NnCfnwLolb9Sa13GyMGXPw",authDomain:"evernote-clone-51ff0.firebaseapp.com",projectId:"evernote-clone-51ff0",storageBucket:"evernote-clone-51ff0.appspot.com",messagingSenderId:"282621662605",appId:"1:282621662605:web:d136ef8d0dd6839ad759c4"});h.a.initializeApp(F);a.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(B,{})}),document.getElementById("root")),D()}},[[225,1,2]]]);
//# sourceMappingURL=main.a02c67ae.chunk.js.map